{"version":3,"file":"Utilities.js","sourceRoot":"","sources":["../../src/Utilities.ts"],"names":[],"mappings":";;AAAA,SAAgB,kBAAkB,CAAC,IAAW;IAC1C,OAAO,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,gBAAgB,CAAC;AACzE,CAAC;AAFD,gDAEC;AAAA,CAAC;AAEF,SAAgB,cAAc,CAAC,QAA8B,EAAE,KAAwB;IACnF,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,KAAiB,UAAK,EAAL,eAAK,EAAL,mBAAK,EAAL,IAAK,EAAE;QAAnB,IAAI,IAAI,cAAA;QACT,MAAM,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,GAAG,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC;QACpE,IAAG,IAAI,CAAC,SAAS;YACb,MAAM,IAAI,kBAAkB,GAAG,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;KACzE;IAED,OAAO,MAAM,CAAC;AAClB,CAAC;AATD,wCASC;AAAA,CAAC;AAEF,SAAgB,yBAAyB,CAAC,KAAwB,EAAE,IAAW;IAC3E,IAAI,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC,UAAA,CAAC,IAAI,OAAA,MAAM,CAAC,CAAC,CAAC,SAAS,EAAE,IAAI,CAAC,EAAzB,CAAyB,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3D,OAAO,IAAI,IAAI,IAAI,CAAC;AACxB,CAAC;AAHD,8DAGC;AAAA,CAAC;AAEF,SAAgB,MAAM,CAAC,CAAM,EAAE,CAAM;IACjC,IAAI,CAAC,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,WAAW,IAAI,CAAC,KAAK,IAAI,CAAC;QACpF,OAAO,IAAI,CAAC;IAEhB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;QACrB,OAAO,KAAK,CAAC;IAEjB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC;QACrC,OAAO,KAAK,CAAC;IAEjB,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QACtC,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,CAAC,MAAM;YACrB,OAAO,KAAK,CAAC;QAEjB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;gBACnB,OAAO,KAAK,CAAC;SACpB;QAED,OAAO,IAAI,CAAC;KACf;IAED,OAAO,CAAC,KAAK,CAAC,CAAC;AACnB,CAAC;AAvBD,wBAuBC;AAAA,CAAC","sourcesContent":["export function stringifyArguments(args: any[]) {\r\n    return args && args.length > 0 ? '[' + args + ']' : '(no arguments)';\r\n};\r\n\r\nexport function stringifyCalls(property: ProxyPropertyContext, calls: ProxyCallRecord[]) {\r\n    let output = '';\r\n    for (let call of calls) {\r\n        output += '\\n-> ' + call.callCount + ' call(s) to ' + property.name;\r\n        if(call.arguments)\r\n            output += ' with arguments ' + stringifyArguments(call.arguments);\r\n    }\r\n\r\n    return output;\r\n};\r\n\r\nexport function findCallMatchingArguments(calls: ProxyCallRecord[], args: any[]) {\r\n    let call = calls.filter(x => equals(x.arguments, args))[0];\r\n    return call || null;\r\n};\r\n\r\nexport function equals(a: any, b: any) {\r\n    if ((typeof a === 'undefined' || a === null) && (typeof b === 'undefined' || b === null))\r\n        return true;\r\n\r\n    if ((!a || !b) && a !== b)\r\n        return false;\r\n\r\n    if (Array.isArray(a) !== Array.isArray(b))\r\n        return false;\r\n\r\n    if (Array.isArray(a) && Array.isArray(b)) {\r\n        if (a.length !== b.length)\r\n            return false;\r\n\r\n        for (let i = 0; i < a.length; i++) {\r\n            if (!equals(a[i], b[i]))\r\n                return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    return a === b;\r\n};"]}